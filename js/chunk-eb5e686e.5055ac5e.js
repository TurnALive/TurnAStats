(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eb5e686e"],{2532:function(t,e,r){"use strict";var a=r("23e7"),n=r("5a34"),s=r("1d80"),i=r("ab13");a({target:"String",proto:!0,forced:!i("includes")},{includes:function(t){return!!~String(s(this)).indexOf(n(t),arguments.length>1?arguments[1]:void 0)}})},"498a":function(t,e,r){"use strict";var a=r("23e7"),n=r("58a8").trim,s=r("c8d2");a({target:"String",proto:!0,forced:s("trim")},{trim:function(){return n(this)}})},5319:function(t,e,r){"use strict";var a=r("d784"),n=r("825a"),s=r("7b0b"),i=r("50c4"),o=r("a691"),l=r("1d80"),c=r("8aa5"),u=r("14c3"),d=Math.max,f=Math.min,m=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,p=/\$([$&'`]|\d\d?)/g,x=function(t){return void 0===t?t:String(t)};a("replace",2,(function(t,e,r,a){var y=a.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=a.REPLACE_KEEPS_$0,g=y?"$":"$0";return[function(r,a){var n=l(this),s=void 0==r?void 0:r[t];return void 0!==s?s.call(r,n,a):e.call(String(n),r,a)},function(t,a){if(!y&&v||"string"===typeof a&&-1===a.indexOf(g)){var s=r(e,t,this,a);if(s.done)return s.value}var l=n(t),m=String(this),h="function"===typeof a;h||(a=String(a));var p=l.global;if(p){var w=l.unicode;l.lastIndex=0}var _=[];while(1){var C=u(l,m);if(null===C)break;if(_.push(C),!p)break;var k=String(C[0]);""===k&&(l.lastIndex=c(m,i(l.lastIndex),w))}for(var O="",S=0,j=0;j<_.length;j++){C=_[j];for(var $=String(C[0]),P=d(f(o(C.index),m.length),0),E=[],L=1;L<C.length;L++)E.push(x(C[L]));var A=C.groups;if(h){var T=[$].concat(E,P,m);void 0!==A&&T.push(A);var R=String(a.apply(void 0,T))}else R=b($,m,P,E,A,a);P>=S&&(O+=m.slice(S,P)+R,S=P+$.length)}return O+m.slice(S)}];function b(t,r,a,n,i,o){var l=a+t.length,c=n.length,u=p;return void 0!==i&&(i=s(i),u=h),e.call(o,u,(function(e,s){var o;switch(s.charAt(0)){case"$":return"$";case"&":return t;case"`":return r.slice(0,a);case"'":return r.slice(l);case"<":o=i[s.slice(1,-1)];break;default:var u=+s;if(0===u)return e;if(u>c){var d=m(u/10);return 0===d?e:d<=c?void 0===n[d-1]?s.charAt(1):n[d-1]+s.charAt(1):e}o=n[u-1]}return void 0===o?"":o}))}}))},6511:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex flex-col"},[r("section",{staticClass:"border-b border-gray-300 bg-gray-50"},[r("Welcome")],1),r("section",{staticClass:"border-b border-gray-300 relative"},[0===t.playerList.length?r("p",{staticClass:"absolute inset-0 tracking-widest text-gray-600 flex items-center justify-center"},[t._v("LOADING")]):t._e(),r("SearchBox",{class:{invisible:0===t.playerList.length},on:{focus:function(e){t.isSearchBoxFocused=!0},blur:function(e){t.isSearchBoxFocused=!1}}})],1),r("section",{directives:[{name:"show",rawName:"v-show",value:t.playerList.length&&!t.keyword,expression:"playerList.length && !keyword"}],class:["xl:w-page xl:mx-auto px-page transition-opacity duration-200 ease-linear",{"opacity-25":t.isSearchBoxFocused}]},[r("p",{staticClass:"h-14 flex items-center"},[t._v(t._s(t.t("nyaa.player_list.yesterday_active_count_label")+t.t("nyaa.symbol.colon_s")+t.yesterdayPlayers.length))]),r("PlayerGrid",{attrs:{data:t.yesterdayPlayers}})],1),t.searchResult?r("section",{staticClass:"xl:w-page xl:mx-auto px-page"},[r("p",{staticClass:"h-14 flex items-center"},[t._v(t._s(t.t("nyaa.player_list.search_result_total_label")+t.t("nyaa.symbol.colon_s")+t.searchResult.length))]),r("PlayerList",{attrs:{data:t.searchResult}})],1):t._e()])},n=[],s=(r("4de4"),r("7db0"),r("0481"),r("caad"),r("c975"),r("fb6a"),r("4e82"),r("4069"),r("b0c0"),r("ac1f"),r("2532"),r("5319"),r("498a"),r("a4d3"),r("e01a"),r("d28b"),r("277d"),r("d3b7"),r("3ca3"),r("ddb0"),r("06c5"));function i(t,e){var r;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=Object(s["a"])(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){l=!0,i=t},f:function(){try{o||null==r["return"]||r["return"]()}finally{if(l)throw i}}}}var o=r("5530"),l=r("2f62"),c=r("fd3a"),u=r("8c86");function d(t){Object(u["a"])(1,arguments);var e=Object(c["a"])(t);return e.setHours(0,0,0,0),e}function f(t,e){Object(u["a"])(2,arguments);var r=d(t),a=d(e);return r.getTime()===a.getTime()}var m=r("fe1f"),h=r("f7f1");function p(t,e){Object(u["a"])(2,arguments);var r=Object(m["a"])(e);return Object(h["a"])(t,-r)}function x(t){return Object(u["a"])(1,arguments),f(t,p(Date.now(),1))}var y=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"xl:w-page xl:mx-auto px-page py-4 md:py-6 xl:py-12 flex flex-col sm:flex-row sm:items-center"},[r("div",{staticClass:"sm:flex-grow-0 sm:flex-shrink sm:w-1/2 text-center sm:text-left"},[r("h1",{staticClass:"text-3xl md:text-4xl xl:text-5xl leading-tight font-black"},[t._v(t._s(t.info.servername))]),r("p",{staticClass:"mt-3"},[r("a",{staticClass:"text-lg text-blue-600 inline-flex items-center",attrs:{href:t.info.homepage,target:"_blank"}},[t._v(" "+t._s(t.t("nyaa.home.explore_link_label"))+" "),r("svg",{staticClass:"w-text-icon h-text-icon ml-1",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[r("path",{attrs:{d:"M10 6v2H5v11h11v-5h2v6a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6zm11-3v8h-2V6.413l-7.793 7.794-1.414-1.414L17.585 5H13V3h8z"}})])])])]),r("dl",{staticClass:"flex-none mt-4 sm:mt-0 sm:ml-auto text-center sm:text-right flex"},[r("div",{staticClass:"flex-1 sm:ml-8 cursor-pointer",on:{click:function(e){t.showWorldTimeInDays=!t.showWorldTimeInDays}}},[r("dt",{staticClass:"text-sm md:text-base text-gray-600 whitespace-no-wrap"},[t._v(t._s(t.t("nyaa.home.starring_number.uptime")))]),r("dd",{staticClass:"mt-2 text-2xl md:text-3xl xl:text-4xl font-medium whitespace-no-wrap"},[t._v(t._s(t.worldTime||"..."))])]),r("div",{staticClass:"flex-1 sm:ml-8"},[r("dt",{staticClass:"text-sm md:text-base text-gray-600 whitespace-no-wrap"},[t._v(t._s(t.t("nyaa.home.starring_number.total_players")))]),r("dd",{staticClass:"mt-2 text-2xl md:text-3xl xl:text-4xl font-medium whitespace-no-wrap"},[t._v(t._s(t.totalPlayers||"..."))])])])])},v=[],g=(r("0d03"),r("2230")),b=r("d146"),w=r("a3b1"),_={name:"Welcome",data:function(){return{showWorldTimeInDays:!1}},computed:Object(o["a"])(Object(o["a"])({},Object(l["c"])(["info"])),{},{worldTime:function(){if(this.info.worldTime){var t=new Date,e=Object(g["a"])(t,{seconds:-this.info.worldTime});return Object(b["a"])(t,e,{unit:this.showWorldTimeInDays?"day":null,locale:"zh_cn"===this.t.lang?w["a"]:null})}return null},totalPlayers:function(){return this.$store.state.playerList.length}})},C=_,k=r("2877"),O=Object(k["a"])(C,y,v,!1,null,null,null),S=O.exports,j=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:["block px-page transition duration-200 easing-linear",t.isFocused?"cursor-default":"cursor-pointer",t.keyword?"text-black":"text-gray-600",{"bg-white":t.isFocused,"bg-gray-50":!t.isFocused&&t.keyword}],on:{click:function(e){t.isFocused=!0}}},[r("div",{staticClass:"xl:w-page xl:mx-auto flex"},[r("button",{ref:"button",staticClass:"flex-none flex items-center",on:{click:function(){t.keyword&&t.setKeyword(""),t.$refs.input.focus()}}},[r("svg",{staticClass:"h-6 fill-current",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[t.keyword?r("path",{attrs:{d:"M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"}}):r("path",{attrs:{d:"M18.031 16.617l4.283 4.282-1.415 1.415-4.282-4.283A8.96 8.96 0 0 1 11 20c-4.968 0-9-4.032-9-9s4.032-9 9-9 9 4.032 9 9a8.96 8.96 0 0 1-1.969 5.617zm-2.006-.742A6.977 6.977 0 0 0 18 11c0-3.868-3.133-7-7-7-3.868 0-7 3.132-7 7 0 3.867 3.132 7 7 7a6.977 6.977 0 0 0 4.875-1.975l.15-.15z"}})])]),r("input",{ref:"input",staticClass:"flex-1 pl-2 pr-5 py-3 bg-transparent placeholder-gray-600 cursor-pointer focus:cursor-text",attrs:{type:"text",placeholder:t.t("nyaa.general.search_placeholder")},domProps:{value:t.keyword},on:{focus:function(t){return t.target.select()},blur:function(e){e.relatedTarget!==t.$refs.button&&(t.isFocused=!1)},input:function(e){return t.setKeyword(e.target.value)}}}),r("button",{staticClass:"flex-none ml-auto text-blue-600",on:{click:function(e){return e.stopPropagation(),t.goRandom(e)}}},[t._v(t._s(t.t("nyaa.general.go_random_player")))])])])},$=[],P=r("db79"),E={name:"SearchBox",data:function(){var t=Object(P["a"])(),e=t.goRandom;return{isFocused:!1,goRandom:e}},computed:Object(o["a"])({},Object(l["c"])(["keyword"])),watch:{isFocused:function(t){t?(this.$refs.input.focus(),this.$emit("focus"),document.addEventListener("keyup",this.onPressEsc,!0)):(this.$refs.input.blur(),this.$emit("blur"),document.removeEventListener("keyup",this.onPressEsc,!0))}},methods:Object(o["a"])(Object(o["a"])({},Object(l["b"])(["setKeyword"])),{},{onPressEsc:function(t){"Escape"===t.key&&(this.keyword?this.setKeyword(""):this.$refs.input.blur())}})},L=E,A=Object(k["a"])(L,j,$,!1,null,null,null),T=A.exports,R=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex flex-wrap"},t._l(t.data,(function(e){return r("div",{key:e.uuid,staticClass:"flex-grow-0 flex-shrink w-1/2 sm:w-1/3 lg:w-1/4 xl:w-1/5"},[r("RouterLink",{staticClass:"py-5 hover:bg-cool-gray-100 rounded-md flex flex-col items-center transition duration-200 ease-linear",attrs:{to:"/player/"+e.uuid}},[r("PlayerAvatar",{staticClass:"w-20 h-20 rounded-md",attrs:{uuid:e.uuid}}),r("span",{staticClass:"mt-4 md:text-lg text-gray-900 font-medium"},[t._v(t._s(e.playername))])],1)],1)})),0)},F=[],H=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("img",{staticClass:"image-pixelated",attrs:{src:"/survival/data/"+t.uuid+"/avatar.png",alt:t.altText}})},I=[],z={name:"PlayerAvatar",props:{uuid:{type:String,required:!0}},computed:{altText:function(){var t,e=null===(t=this.$store.state.players[this.uuid])||void 0===t?void 0:t.playername;return e?"".concat(e,"'s avatar"):null}}},B=z,M=Object(k["a"])(B,H,I,!1,null,null,null),D=M.exports,N={name:"PlayerGrid",components:{PlayerAvatar:D},props:{data:{type:Array,required:!0}}},U=N,W=Object(k["a"])(U,R,F,!1,null,null,null),G=W.exports,K=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("ul",{staticClass:"-mt-2"},t._l(t.data.slice(0,t.cursor),(function(e){var a=e.uuid,n=e.playername,s=e.historyName;return r("li",{key:t.extract(a)},[r("RouterLink",{staticClass:"sm:-mx-3 sm:px-3 py-2 hover:bg-cool-gray-100 rounded-md flex items-center transition duration-100 ease-linear",attrs:{to:"/player/"+t.extract(a)}},[r("PlayerAvatar",{staticClass:"flex-none w-10 h-10 rounded",attrs:{uuid:t.extract(a)}}),r("span",{staticClass:"flex-1 ml-4 flex items-center"},[r("span",{staticClass:"sm:w-56 mr-auto sm:mr-0 font-medium",domProps:{innerHTML:t._s(t.html(n))}}),s?[r("span",{staticClass:"sm:hidden p-1 text-xs border border-red-300 bg-red-200 rounded text-red-800"},[t._v(t._s(t.t("nyaa.player_list.match_history_name")))]),r("svg",{staticClass:"hidden sm:block ml-4 mr-1 h-text fill-gray-600",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[r("path",{attrs:{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm1-8h4v2h-6V7h2v5z"}})]),r("span",{staticClass:"hidden sm:inline text-gray-600 font-medium",domProps:{innerHTML:t._s(t.html(s))}})]:t._e(),a instanceof Array?r("span",{staticClass:"lg:hidden ml-1 sm:ml-auto p-1 text-xs sm:text-base border border-red-300 bg-red-200 rounded text-red-800"},[t._v("UUID")]):t._e(),r("svg",{staticClass:"hidden lg:block h-text ml-auto mr-1 fill-gray-600",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[r("path",{attrs:{d:"M7.784 14l.42-4H4V8h4.415l.525-5h2.011l-.525 5h3.989l.525-5h2.011l-.525 5H20v2h-3.784l-.42 4H20v2h-4.415l-.525 5h-2.011l.525-5H9.585l-.525 5H7.049l.525-5H4v-2h3.784zm2.011 0h3.99l.42-4h-3.99l-.42 4z"}})]),r("code",{staticClass:"hidden lg:inline text-gray-600",domProps:{innerHTML:t._s(t.html(a))}})],2)],1)],1)})),0),r("div",{staticClass:"-mx-3"},[r("button",{directives:[{name:"show",rawName:"v-show",value:t.restCount>0,expression:"restCount > 0"}],staticClass:"flex w-full h-14 px-3 py-2 hover:bg-cool-gray-100 rounded-md text-gray-600 text-left transition duration-100 ease-linear",on:{click:function(e){t.cursor+=50}}},[r("span",{staticClass:"ml-14"},[t._v(t._s(t.t("nyaa.player_list.load_more_button_label")))])])])])},V=[],q=50,J={name:"PlayerList",components:{PlayerAvatar:D},props:{data:{type:Array,required:!0}},data:function(){return{cursor:q}},computed:{restCount:function(){return this.data.length-this.cursor}},watch:{data:function(t){this.cursor=t.length<=2*q?2*q:q}},methods:{extract:function(t){return"string"===typeof t?t:t[0]},html:function(t){return"string"===typeof t?t:t[0].slice(0,t[1])+'<em class="-mx-px border border-red-300 bg-red-200 rounded text-red-800 not-italic">'.concat(t[0].slice(t[1],t[2]),"</em>")+t[0].slice(t[2])}}},X=J,Q=Object(k["a"])(X,K,V,!1,null,null,null),Y=Q.exports,Z={components:{Welcome:S,SearchBox:T,PlayerGrid:G,PlayerList:Y},data:function(){var t=Object(P["a"])(),e=t.stopRandom;return{isSearchBoxFocused:!1,stopRandom:e}},computed:Object(o["a"])(Object(o["a"])({},Object(l["c"])(["playerList"])),{},{yesterdayPlayers:function(){return this.playerList.filter((function(t){return x(t.seen)}))},keyword:function(){var t,e;return null!==(t=null===(e=this.$store.state.keyword)||void 0===e?void 0:e.trim().toLowerCase())&&void 0!==t?t:""},searchResult:function(){var t=this;if(/^[0-9a-z_-]+$/.test(this.keyword)){var e,r=this.keyword.length<=16&&!this.keyword.includes("-"),a=/^[0-9a-f-]+$/.test(this.keyword),n=this.keyword.length,s=[[],[],[]],o=i(this.playerList);try{for(o.s();!(e=o.n()).done;){var l=e.value,c=l.uuid,u=l.playername,d=l.names,f={uuid:c,playername:u,historyName:null},m=null;if(r){var h,p=u.toLowerCase().indexOf(this.keyword);p>=0&&(m=0,f.playername=[u,p,p+n]);var x=null!==(h=d.slice(1).find((function(e){return e.name.toLowerCase().includes(t.keyword)})))&&void 0!==h?h:{},y=x.name;if(y){null===m&&(m=1);var v=y.toLowerCase().indexOf(this.keyword);f.historyName=[y,v,v+n]}}if(a){var g=this.keyword.replace(/-/g,""),b=c.indexOf(g);b>=0&&(null===m&&(m=2),f.uuid=[c,b,b+n])}null!==m&&s[m].push(f)}}catch(w){o.e(w)}finally{o.f()}return s[0].sort((function(t,e){return t.playername[1]-e.playername[1]})),s[1].sort((function(t,e){return t.historyName[1]-e.historyName[1]})),s[2].sort((function(t,e){return t.uuid[1]-e.uuid[1]})),s.flat()}}}),watch:{"$store.state.info.lastUpdate":{immediate:!0,handler:function(t){t&&this.$store.commit("setFooterUpdateTime",t)}}},beforeRouteEnter:function(t,e,r){r((function(t){document.title=t.$store.state.info.title,t.stopRandom()}))}},tt=Z,et=Object(k["a"])(tt,a,n,!1,null,null,null);e["default"]=et.exports},"7db0":function(t,e,r){"use strict";var a=r("23e7"),n=r("b727").find,s=r("44d2"),i=r("ae40"),o="find",l=!0,c=i(o);o in[]&&Array(1)[o]((function(){l=!1})),a({target:"Array",proto:!0,forced:l||!c},{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),s(o)},c8d2:function(t,e,r){var a=r("d039"),n=r("5899"),s="​᠎";t.exports=function(t){return a((function(){return!!n[t]()||s[t]()!=s||n[t].name!==t}))}},c975:function(t,e,r){"use strict";var a=r("23e7"),n=r("4d64").indexOf,s=r("a640"),i=r("ae40"),o=[].indexOf,l=!!o&&1/[1].indexOf(1,-0)<0,c=s("indexOf"),u=i("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:l||!c||!u},{indexOf:function(t){return l?o.apply(this,arguments)||0:n(this,t,arguments.length>1?arguments[1]:void 0)}})},caad:function(t,e,r){"use strict";var a=r("23e7"),n=r("4d64").includes,s=r("44d2"),i=r("ae40"),o=i("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!o},{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),s("includes")}}]);
//# sourceMappingURL=chunk-eb5e686e.5055ac5e.js.map